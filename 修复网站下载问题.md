# 🔧 修复网站下载问题

**问题**：访问网站地址时，浏览器下载文件而不是显示网页

**原因**：可能是以下原因之一：
1. COS存储桶的静态网站托管功能没有开启
2. `index.html` 的Content-Type设置不正确
3. 文件上传时的Content-Type头设置有问题

---

## ✅ 解决方案

### 步骤1：检查并开启COS静态网站托管（5分钟）

**访问**：https://console.cloud.tencent.com/cos

**操作步骤**：
1. **进入存储桶**
   - 点击存储桶：`yqf-aibtrip-demo-1387623418`
   - 进入存储桶管理页面

2. **开启静态网站托管**
   - 左侧菜单选择：**基础配置** → **静态网站托管**
   - 点击**编辑**按钮
   - 开启**静态网站托管**功能
   - **索引文档**：设置为 `index.html`
   - **错误文档**：设置为 `index.html`（可选，但推荐）
   - 点击**保存**

3. **确认配置**
   - 确认静态网站托管已开启
   - 记录**访问节点**地址（应该类似：`yqf-aibtrip-demo-1387623418.cos-website.ap-guangzhou.myqcloud.com`）

---

### 步骤2：更新工作流，确保Content-Type正确设置

**问题**：`coscmd upload` 的 `-H` 参数可能不支持多个header，或者语法不正确

**解决方案**：更新工作流文件，使用正确的header设置方式

---

### 步骤3：重新上传文件（使用正确的Content-Type）

**如果静态网站托管已开启，但仍有问题**：
- 可能需要重新上传 `index.html`，确保Content-Type正确
- 或者使用COS控制台直接设置文件的Content-Type

---

## 🚀 快速修复步骤

### 方法1：在COS控制台开启静态网站托管（推荐）

1. **访问COS控制台**
   ```
   https://console.cloud.tencent.com/cos
   ```

2. **进入存储桶**
   - 点击：`yqf-aibtrip-demo-1387623418`
   - 左侧菜单：**基础配置** → **静态网站托管**

3. **开启并配置**
   - 点击**编辑**
   - 开启**静态网站托管**
   - **索引文档**：`index.html`
   - **错误文档**：`index.html`（可选）
   - 点击**保存**

4. **验证**
   - 刷新浏览器，访问网站
   - 应该显示网页而不是下载文件

---

### 方法2：检查文件的Content-Type

**访问**：https://console.cloud.tencent.com/cos

**操作步骤**：
1. 进入存储桶：`yqf-aibtrip-demo-1387623418`
2. 找到 `index.html` 文件
3. 点击文件，查看**详情**
4. 检查**Content-Type**是否设置为 `text/html`
5. 如果不是，点击**编辑**，修改为 `text/html`
6. 保存更改

---

### 方法3：更新工作流文件（如果需要重新部署）

如果静态网站托管已开启，但文件Content-Type不正确，可能需要更新工作流文件，使用更可靠的方式设置Content-Type。

---

## ✅ 验证

**开启静态网站托管后，访问地址**：
```
https://yqf-aibtrip-demo-1387623418.cos-website.ap-guangzhou.myqcloud.com
```

**验证项**：
- ✅ 网站显示网页而不是下载文件
- ✅ 页面正常加载
- ✅ 静态资源正常加载（CSS、JS）
- ✅ 页面功能正常

---

## 📋 常见问题

### Q1: 为什么文件被下载？

**A**: 通常是因为：
- 静态网站托管功能未开启
- Content-Type设置不正确（如设置为 `application/octet-stream`）
- 浏览器无法识别文件类型

### Q2: 静态网站托管开启后多久生效？

**A**: 通常立即生效，但可能需要等待几秒钟。

### Q3: 如何确认静态网站托管已开启？

**A**: 
- 在COS控制台查看**基础配置** → **静态网站托管**
- 确认显示**已开启**
- 记录**访问节点**地址

---

**请按照步骤1先开启COS静态网站托管功能！** 🚀


