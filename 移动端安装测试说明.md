# 📱 移动端安装测试说明

## ✅ 配置完成状态

**所有配置已完成并推送到GitHub！**

- ✅ PWA配置完成
- ✅ 应用图标已生成
- ✅ Service Worker已配置
- ✅ Capacitor配置完成
- ✅ 项目已构建
- ✅ 代码已推送到GitHub
- ✅ 自动部署已触发

---

## 🚀 立即测试方式（推荐）⭐

### 方式1：PWA - 添加到主屏幕（最简单）

#### 1. 等待部署完成（2-5分钟）

访问以下地址确认部署是否完成：

**Vercel地址**：
```
https://yqf-aibtrip-demo.vercel.app
```

**腾讯云地址**（如果已配置自定义域名）：
```
您的自定义域名
```

#### 2. Android手机测试步骤：

1. **打开Chrome浏览器**
2. **访问网站**：输入上面的地址
3. **添加到主屏幕**：
   - 点击浏览器右上角菜单（三个点 ⋮）
   - 选择"添加到主屏幕"或"安装应用"
   - 点击"添加"或"安装"
4. **测试**：
   - 桌面会出现"一起飞商旅"图标
   - 点击图标启动应用
   - 应用在独立窗口打开（无浏览器地址栏）

#### 3. iPhone/iPad测试步骤：

1. **打开Safari浏览器**
2. **访问网站**：输入上面的地址
3. **添加到主屏幕**：
   - 点击底部分享按钮（方框向上箭头图标）
   - 向下滚动，选择"添加到主屏幕"
   - 输入应用名称（可选，默认"一起飞商旅"）
   - 点击"添加"
4. **测试**：
   - 桌面会出现"一起飞商旅"图标
   - 点击图标启动应用
   - 应用在独立窗口打开

---

### 方式2：APK文件安装（需要Android Studio）

如果您需要APK文件直接在手机上安装，请按照以下步骤：

#### 步骤1：安装Android平台支持

```bash
# 安装Android平台
npm install @capacitor/android

# 添加Android平台
npm run cap:add:android

# 同步配置
npm run cap:sync
```

#### 步骤2：安装Android Studio

1. 下载安装Android Studio：https://developer.android.com/studio
2. 安装SDK和工具
3. 配置环境变量（如果需要）

#### 步骤3：在Android Studio中打包APK

1. **打开项目**：
   ```bash
   npm run cap:open:android
   ```

2. **等待同步**：
   - Android Studio会自动打开项目
   - 等待Gradle同步完成（首次可能需要下载依赖）

3. **生成签名APK**：
   - 点击菜单：`Build` → `Generate Signed Bundle / APK`
   - 选择 `APK`
   - 点击 `Create new...` 创建新的密钥库

4. **创建签名密钥**（首次）：
   - Key store path: 选择保存位置（如：`C:\yqf-aibtrip-key.jks`）
   - Password: 设置密码（请记住！）
   - Key alias: `yqf-aibtrip-key`
   - Password: 密钥密码
   - Validity: 25 years
   - 填写证书信息
   - 点击 `OK`

5. **生成APK**：
   - 选择刚创建的密钥库
   - 输入密码
   - 选择 `release` 构建变体
   - 点击 `Finish`
   - 等待构建完成

6. **找到APK**：
   - 构建完成后，APK在：`android\app\release\app-release.apk`
   - 复制这个文件到手机

#### 步骤4：在手机上安装APK

1. **传输APK**：
   - 通过USB连接手机，复制APK文件
   - 或者通过云盘/邮件发送到手机
   - 或者使用 `adb install app-release.apk` 命令

2. **安装**：
   - 在手机上打开APK文件
   - 允许"来自未知来源"的安装（如提示）
   - 点击"安装"
   - 安装完成后点击"打开"

---

## 📋 测试清单

### 基础功能测试

- [ ] **登录功能**
  - [ ] 可以正常登录
  - [ ] 记住登录状态
  - [ ] 登出功能正常

- [ ] **首页显示**
  - [ ] 首页加载正常
  - [ ] 所有模块显示正确
  - [ ] 图标和文字清晰

- [ ] **出差申请**
  - [ ] 创建申请单
  - [ ] 查看申请单列表
  - [ ] 查看申请单详情

- [ ] **AI预订**
  - [ ] AI智能对话
  - [ ] AI推荐方案
  - [ ] 已审批申请单

- [ ] **经典预订**
  - [ ] 机票搜索
  - [ ] 酒店搜索
  - [ ] 下单功能

- [ ] **订单管理**
  - [ ] 查看订单列表
  - [ ] 查看订单详情
  - [ ] 订单状态显示

- [ ] **个人信息**
  - [ ] 查看个人信息
  - [ ] 修改个人信息
  - [ ] UI主题切换

### PWA功能测试

- [ ] **安装功能**
  - [ ] 可以添加到主屏幕
  - [ ] 桌面图标显示正确
  - [ ] 应用名称显示正确

- [ ] **独立窗口**
  - [ ] 应用在独立窗口打开
  - [ ] 没有浏览器地址栏
  - [ ] 显示模式为standalone

- [ ] **启动画面**
  - [ ] 启动画面显示正常
  - [ ] 主题色正确（紫色）

- [ ] **离线功能**（Service Worker）
  - [ ] 首次访问后，离线状态下可访问部分功能
  - [ ] 静态资源已缓存

- [ ] **快捷方式**（Android）
  - [ ] 长按图标显示快捷方式
  - [ ] 快捷方式可正常使用

### 响应式设计测试

- [ ] **布局适配**
  - [ ] 手机屏幕显示正常
  - [ ] 文字大小合适
  - [ ] 按钮大小合适

- [ ] **触摸操作**
  - [ ] 点击操作流畅
  - [ ] 滑动操作正常
  - [ ] 输入框正常

- [ ] **性能**
  - [ ] 加载速度快
  - [ ] 切换流畅
  - [ ] 无卡顿现象

---

## 🔗 测试地址

### Vercel（推荐）
```
https://yqf-aibtrip-demo.vercel.app
```

### 腾讯云COS
```
https://yqf-aibtrip-demo-1387623418.cos-website.ap-guangzhou.myqcloud.com
```

或您的自定义域名（如果已配置）

---

## ⚠️ 注意事项

1. **HTTPS要求**：
   - PWA必须使用HTTPS
   - Vercel和腾讯云已配置HTTPS，无需担心

2. **浏览器要求**：
   - Android：推荐使用Chrome浏览器
   - iOS：必须使用Safari浏览器

3. **APK安装**：
   - Android需要允许"未知来源"应用安装
   - 设置 → 安全 → 允许安装未知来源应用

4. **网络要求**：
   - 首次访问需要网络连接
   - Service Worker缓存后，部分功能可离线使用

---

## 🐛 问题排查

### 无法添加到主屏幕

1. **检查网站是否正常**：访问网站确认是否可以打开
2. **清除缓存**：清除浏览器缓存和数据
3. **检查HTTPS**：确保使用HTTPS访问（不是HTTP）
4. **重新访问**：关闭浏览器，重新打开并访问网站

### 应用无法正常使用

1. **检查网络**：确保网络连接正常
2. **检查控制台**：打开浏览器开发者工具查看错误
3. **重新安装**：删除已添加的应用，重新添加到主屏幕

### APK无法安装

1. **允许未知来源**：Android设置 → 安全 → 允许未知来源应用
2. **检查APK签名**：确保APK已正确签名
3. **检查Android版本**：确保Android版本兼容（5.0+）

---

## ✅ 完成检查

- [x] 代码已推送到GitHub
- [x] 自动部署已触发
- [ ] 等待部署完成（2-5分钟）
- [ ] 访问网站确认正常
- [ ] 在手机上访问网站
- [ ] 添加到主屏幕
- [ ] 测试所有功能

---

## 🎉 开始测试

**现在您可以：**

1. 等待2-5分钟让自动部署完成
2. 访问部署地址：https://yqf-aibtrip-demo.vercel.app
3. 在手机上打开网站
4. 按照上面的步骤添加到主屏幕
5. 开始测试所有功能！

**祝测试顺利！** 🚀

