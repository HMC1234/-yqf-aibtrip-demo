# 🔧 修复GitHub Actions工作流错误

**错误信息**：`Error: Process completed with exit code 255.`

**可能原因**：
1. coscmd配置失败
2. 认证失败
3. 命令执行失败
4. 存储桶或地域配置错误

---

## 🔍 诊断步骤

### 1. 查看详细错误日志

**访问GitHub Actions**：
https://github.com/HMC1234/-yqf-aibtrip-demo/actions

**查看步骤**：
1. 点击最新的工作流运行
2. 查看哪个步骤失败了（红色✗）
3. 点击失败的步骤，查看详细日志
4. 找到具体的错误信息

---

## 🔧 常见问题和解决方案

### 问题1：coscmd配置失败

**错误信息**：`coscmd config` 失败

**可能原因**：
- SecretId或SecretKey配置错误
- Secrets中有多余的空格
- 密钥权限不足

**解决方法**：
1. 检查GitHub Secrets：
   - 访问：https://github.com/HMC1234/-yqf-aibtrip-demo/settings/secrets/actions
   - 确认`TENCENT_SECRET_ID`和`TENCENT_SECRET_KEY`正确
   - 确保没有多余的空格

2. 验证密钥权限：
   - 确保密钥有COS访问权限
   - 在腾讯云控制台检查密钥权限

---

### 问题2：存储桶不存在或配置错误

**错误信息**：`Bucket not found` 或 `No such bucket`

**可能原因**：
- 存储桶名称配置错误
- 地域配置错误
- 存储桶不存在

**解决方法**：
1. 检查存储桶名称：
   - 确认GitHub Secret `TENCENT_BUCKET`是否正确
   - 或者确认工作流中的默认值`yqf-aibtrip-demo`是否正确

2. 检查地域：
   - 确认GitHub Secret `TENCENT_REGION`是否正确
   - 或者确认工作流中的默认值`ap-guangzhou`是否正确

3. 验证存储桶：
   - 访问：https://console.cloud.tencent.com/cos
   - 确认存储桶确实存在
   - 确认存储桶名称和地域正确

---

### 问题3：coscmd命令执行失败

**错误信息**：`coscmd upload` 或 `coscmd put` 失败

**可能原因**：
- 文件路径错误
- 权限问题
- 网络问题

**解决方法**：
1. 检查构建输出：
   - 确认`build`目录存在
   - 确认`build/index.html`存在

2. 检查权限：
   - 确认存储桶权限为"公有读私有写"
   - 确认API密钥有写入权限

---

## 🚀 改进的工作流文件

让我为您创建一个更健壮的工作流文件，包含更好的错误处理：


