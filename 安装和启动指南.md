# YQFAIBTRIP DEMO å®‰è£…å’Œå¯åŠ¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ­¥éª¤1ï¼šåˆ›å»ºReacté¡¹ç›®

```bash
# åˆ›å»ºé¡¹ç›®ï¼ˆä½¿ç”¨TypeScriptæ¨¡æ¿ï¼‰
npx create-react-app yqf-aibtrip-demo --template typescript

# è¿›å…¥é¡¹ç›®ç›®å½•
cd yqf-aibtrip-demo
```

### æ­¥éª¤2ï¼šå®‰è£…ä¾èµ–

```bash
# å®‰è£…æ ¸å¿ƒä¾èµ–
npm install @supabase/supabase-js react-router-dom antd zustand @ant-design/icons dayjs

# å®‰è£…ç±»å‹å®šä¹‰ï¼ˆå¦‚æœéœ€è¦ï¼‰
npm install --save-dev @types/react-router-dom
```

### æ­¥éª¤3ï¼šå¤åˆ¶æ–‡ä»¶

å°†é¡¹ç›®ä¸­çš„ä»¥ä¸‹æ–‡ä»¶/ç›®å½•å¤åˆ¶åˆ°ä½ çš„Reacté¡¹ç›®ä¸­ï¼š

**å¿…é¡»å¤åˆ¶**ï¼š
- `src/` ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
- `public/index.html`ï¼ˆå¦‚æœéœ€è¦ï¼‰

**æ–‡ä»¶ç»“æ„**ï¼š
```
yqf-aibtrip-demo/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ Layout/
â”‚   â”‚       â”œâ”€â”€ MainLayout.tsx
â”‚   â”‚       â””â”€â”€ MainLayout.css
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ Login/
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Login.css
â”‚   â”‚   â”œâ”€â”€ Dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Dashboard.css
â”‚   â”‚   â”œâ”€â”€ TravelRequest/
â”‚   â”‚   â”‚   â”œâ”€â”€ NewRequest.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ NewRequest.css
â”‚   â”‚   â”‚   â”œâ”€â”€ RequestList.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ RequestList.css
â”‚   â”‚   â”‚   â”œâ”€â”€ RequestDetail.tsx
â”‚   â”‚   â”‚   â””â”€â”€ RequestDetail.css
â”‚   â”‚   â””â”€â”€ AIRecommendation/
â”‚   â”‚       â”œâ”€â”€ GenerateRecommendation.tsx
â”‚   â”‚       â”œâ”€â”€ GenerateRecommendation.css
â”‚   â”‚       â”œâ”€â”€ RecommendationList.tsx
â”‚   â”‚       â”œâ”€â”€ RecommendationList.css
â”‚   â”‚       â”œâ”€â”€ RecommendationDetail.tsx
â”‚   â”‚       â””â”€â”€ RecommendationDetail.css
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ supabase.ts
â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â””â”€â”€ authStore.ts
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ App.tsx
â”‚   â”œâ”€â”€ App.css
â”‚   â”œâ”€â”€ index.tsx
â”‚   â””â”€â”€ index.css
â”œâ”€â”€ public/
â”‚   â””â”€â”€ index.html
â””â”€â”€ package.json
```

### æ­¥éª¤4ï¼šå¯åŠ¨é¡¹ç›®

```bash
npm start
```

é¡¹ç›®å°†åœ¨ http://localhost:3000 å¯åŠ¨

---

## ğŸ”‘ ç™»å½•ä¿¡æ¯

- **Email**: test@example.com
- **Password**: 123456

---

## ğŸ“ åŠŸèƒ½è¯´æ˜

### å·²å®ç°çš„åŠŸèƒ½

1. âœ… **ç”¨æˆ·ç™»å½•**
   - ä½¿ç”¨Supabase Authè®¤è¯
   - è‡ªåŠ¨è·å–ç”¨æˆ·ä¿¡æ¯

2. âœ… **é¦–é¡µä»ªè¡¨æ¿**
   - æ˜¾ç¤ºç”³è¯·ç»Ÿè®¡
   - æœ€è¿‘ç”³è¯·åˆ—è¡¨
   - å¿«é€Ÿæ“ä½œå…¥å£

3. âœ… **æäº¤å‡ºå·®ç”³è¯·**
   - å®Œæ•´çš„ç”³è¯·è¡¨å•
   - è¡¨å•éªŒè¯
   - è‡ªåŠ¨ç”Ÿæˆç”³è¯·å•å·
   - ä¿å­˜åˆ°æ•°æ®åº“

4. âœ… **ç”³è¯·å•åˆ—è¡¨**
   - æŒ‰çŠ¶æ€ç­›é€‰ï¼ˆå…¨éƒ¨/å¾…å®¡æ‰¹/å®¡æ‰¹ä¸­/å·²å®¡æ‰¹ï¼‰
   - ç”³è¯·å•è¯¦æƒ…æŸ¥çœ‹

5. âœ… **ç”³è¯·å•è¯¦æƒ…**
   - æ˜¾ç¤ºå®Œæ•´ç”³è¯·ä¿¡æ¯
   - å®¡æ‰¹å®Œæˆåæ˜¾ç¤º"ç»å…¸é¢„è®¢"å’Œ"AIé¢„è®¢"å…¥å£

6. âœ… **AIæ¨èæ–¹æ¡ˆç”Ÿæˆ**ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰â­
   - ä»ç”³è¯·å•ç‚¹å‡»"AIé¢„è®¢"
   - æ˜¾ç¤ºåŠ è½½åŠ¨ç”»ï¼ˆæ¨¡æ‹ŸAIå¤„ç†è¿‡ç¨‹ï¼‰
   - è‡ªåŠ¨ç”Ÿæˆæ¨èæ–¹æ¡ˆ
   - å±•ç¤º3-5ä¸ªæ¨èæ–¹æ¡ˆå¡ç‰‡

7. âœ… **æ¨èæ–¹æ¡ˆåˆ—è¡¨**
   - å¡ç‰‡å¼å±•ç¤º
   - æ˜¾ç¤ºå…³é”®å­—ã€æ¨èåŸå› ã€ä»·æ ¼
   - æŸ¥çœ‹è¯¦æƒ…åŠŸèƒ½

8. âœ… **æ¨èæ–¹æ¡ˆè¯¦æƒ…**
   - å®Œæ•´çš„æ–¹æ¡ˆä¿¡æ¯
   - äº§å“è¯¦æƒ…å±•ç¤º

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å®¡æ‰¹æµç¨‹ï¼ˆæ¨¡æ‹Ÿï¼‰

DEMOé˜¶æ®µï¼Œå®¡æ‰¹æµç¨‹æ˜¯æ¨¡æ‹Ÿçš„ï¼š
- æäº¤åçŠ¶æ€ä¸º `pending`
- å¯ä»¥åœ¨æ•°æ®åº“ä¸­æ‰‹åŠ¨æ›´æ–°çŠ¶æ€ä¸º `approved`
- æˆ–è€…ç­‰å¾…24å°æ—¶åè‡ªåŠ¨å®¡æ‰¹ï¼ˆéœ€è¦é…ç½®å®šæ—¶ä»»åŠ¡ï¼‰

**å¿«é€Ÿæµ‹è¯•æ–¹æ³•**ï¼š
åœ¨Supabase SQL Editorä¸­æ‰§è¡Œï¼š
```sql
-- å°†æŸä¸ªç”³è¯·å•çŠ¶æ€æ›´æ–°ä¸ºå·²å®¡æ‰¹
UPDATE travel_requests 
SET status = 'approved' 
WHERE request_no = 'ä½ çš„ç”³è¯·å•å·';
```

### 2. Mockæ•°æ®

- AIæ¨èæ–¹æ¡ˆä½¿ç”¨Mockæ•°æ®
- æ¨èè¯¦æƒ…ä½¿ç”¨é¢„è®¾æ¨¡æ¿
- äº§å“æ•°æ®æ˜¯ç¤ºä¾‹æ•°æ®

### 3. æ—¥æœŸé€‰æ‹©å™¨

éœ€è¦å®‰è£… `dayjs`ï¼š
```bash
npm install dayjs
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: å¯åŠ¨æ—¶æŠ¥é”™ "Cannot find module 'dayjs'"
**A**: æ‰§è¡Œ `npm install dayjs`

### Q2: ç™»å½•åæ— æ³•è·å–ç”¨æˆ·ä¿¡æ¯
**A**: æ£€æŸ¥ï¼š
- Supabaseé…ç½®æ˜¯å¦æ­£ç¡®
- ç”¨æˆ·æ˜¯å¦åœ¨usersè¡¨ä¸­æœ‰è®°å½•
- RLSç­–ç•¥æ˜¯å¦æ­£ç¡®

### Q3: ç”³è¯·å•æäº¤å¤±è´¥
**A**: æ£€æŸ¥ï¼š
- ç”¨æˆ·æ˜¯å¦æœ‰company_id, department_id, cost_center_id
- å•å·ç”Ÿæˆå‡½æ•°æ˜¯å¦æ­£å¸¸å·¥ä½œ

### Q4: AIæ¨èç”Ÿæˆå¤±è´¥
**A**: æ£€æŸ¥ï¼š
- ç”³è¯·å•çŠ¶æ€æ˜¯å¦ä¸º `approved`
- æ¨èå•å·ç”Ÿæˆå‡½æ•°æ˜¯å¦æ­£å¸¸
- æ•°æ®åº“è¿æ¥æ˜¯å¦æ­£å¸¸

---

## ğŸ¯ ä¸‹ä¸€æ­¥

å®ŒæˆDEMOåï¼š
1. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½æµç¨‹
2. æ”¶é›†åé¦ˆ
3. ä¼˜åŒ–UIå’Œä½“éªŒ
4. å‡†å¤‡æ­£å¼å¼€å‘

---

**åˆ›å»ºæ—¥æœŸ**ï¼š2024-12-19







