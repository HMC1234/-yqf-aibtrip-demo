# 🚀 快速配置自定义域名（5步解决）

**问题**：访问 `https://yqf-aibtrip-demo-1387623418.cos-website.ap-guangzhou.myqcloud.com` 时下载文件

**原因**：2024年后创建的存储桶必须使用自定义域名访问（腾讯云政策）

**解决方案**：配置自定义域名

---

## ✅ 5步快速配置

### 步骤1：准备域名（2分钟）

**如果您有域名**：
- 使用子域名，例如：`demo.your-domain.com`

**如果您没有域名**：
- 在腾讯云购买（约50元/年）
- 或使用其他已有域名的子域名

---

### 步骤2：在COS添加自定义域名（3分钟）

1. **访问COS控制台**
   ```
   https://console.cloud.tencent.com/cos
   ```

2. **进入存储桶**
   - 点击：`yqf-aibtrip-demo-1387623418`
   - 左侧：**域名与传输管理** → **自定义源站域名**

3. **添加域名**
   - 点击 **添加域名**
   - **自定义域名**：输入您的域名
   - **源站类型**：选择 **静态网站源站** ⭐（重要！）
   - 点击 **保存**

4. **记录CNAME**
   - 复制系统显示的CNAME地址

---

### 步骤3：配置DNS解析（3分钟）

1. **登录DNS服务商**（如果域名在腾讯云，访问：https://console.cloud.tencent.com/cns）

2. **添加CNAME记录**
   - **类型**：CNAME
   - **主机**：`demo`（或您的子域名）
   - **记录值**：粘贴步骤2的CNAME地址
   - **保存**

---

### 步骤4：开启静态网站托管（2分钟）

1. **COS控制台** → 存储桶 → **基础配置** → **静态网站**

2. **配置**
   - **状态**：开启
   - **索引文档**：`index.html`
   - **错误文档**：`index.html`
   - **保存**

---

### 步骤5：等待生效并访问（5-30分钟）

1. **等待DNS解析生效**（通常5-30分钟）

2. **访问您的自定义域名**
   ```
   https://demo.your-domain.com
   ```

3. **验证**
   - ✅ 显示网页（不是下载文件）
   - ✅ 页面正常加载
   - ✅ SPA路由正常工作

---

## ⚠️ 重要提示

### 关键配置点

1. **源站类型必须选择"静态网站源站"** ⭐
   - ❌ 选择"默认源站"会下载文件
   - ✅ 选择"静态网站源站"会显示网页

2. **2024年后创建的存储桶不支持默认域名**
   - ❌ `https://yqf-aibtrip-demo-1387623418.cos-website.ap-guangzhou.myqcloud.com` 不可用
   - ✅ 必须使用自定义域名

---

## ✅ 验证

**配置完成后访问**：
```
https://您的自定义域名
```

**应该看到**：
- ✅ 网页正常显示
- ✅ 不是下载文件
- ✅ 页面功能正常

---

## 📋 常见问题

### Q1: 没有域名怎么办？

**A**: 
- 在腾讯云购买域名（约50元/年）
- 或使用已有域名的子域名

### Q2: DNS解析多久生效？

**A**: 通常5-30分钟，有时可能需要更长时间。

### Q3: 为什么选择"静态网站源站"？

**A**: 只有选择"静态网站源站"，浏览器才会显示网页而不是下载文件。

---

**按照以上5步配置即可！** 🚀

**详细说明请查看：`配置自定义域名解决方案.md`**


