# 🔧 修复存储桶不存在错误

**错误信息**：`NoSuchBucket` - "The specified bucket does not exist."

**原因**：存储桶名称或地域配置不正确

---

## 🔍 问题诊断

从错误日志可以看到：
- 工作流尝试访问存储桶：`yqf-aibtrip-demo`
- 地域：`ap-guangzhou`
- 但存储桶不存在或名称/地域不匹配

---

## ✅ 解决方法

### 步骤1：检查您的存储桶名称和地域

1. **访问COS控制台**
   ```
   https://console.cloud.tencent.com/cos
   ```

2. **查看您的存储桶信息**
   - 进入您的存储桶
   - 查看存储桶名称（在存储桶列表或详情中）
   - 查看存储桶地域（在存储桶详情中）

3. **确认信息**
   - **存储桶名称**：例如 `yqf-aibtrip-demo` 或其他名称
   - **存储桶地域**：例如 `ap-guangzhou`、`ap-beijing` 等

---

### 步骤2：更新GitHub Secrets

1. **访问GitHub Secrets**
   ```
   https://github.com/HMC1234/-yqf-aibtrip-demo/settings/secrets/actions
   ```

2. **检查或添加Secrets**

   **如果您的存储桶名称不是 `yqf-aibtrip-demo`**：
   - 添加或更新 `TENCENT_BUCKET`
   - Value：您的实际存储桶名称

   **如果您的存储桶地域不是 `ap-guangzhou`**：
   - 添加或更新 `TENCENT_REGION`
   - Value：您的实际地域代码

3. **地域代码对照表**
   ```
   广州：ap-guangzhou
   北京：ap-beijing
   上海：ap-shanghai
   成都：ap-chengdu
   重庆：ap-chongqing
   香港：ap-hongkong
   ```

---

### 步骤3：验证存储桶是否存在

1. **访问COS控制台**
   ```
   https://console.cloud.tencent.com/cos
   ```

2. **确认存储桶存在**
   - 在存储桶列表中查看
   - 确认存储桶名称和地域

3. **如果存储桶不存在，创建它**
   - 点击"创建存储桶"
   - 填写存储桶信息
   - 开启静态网站托管

---

## 🚀 快速修复步骤

### 方法1：在GitHub Secrets中配置（推荐）⭐

**如果您的存储桶名称和地域与默认值不同**：

1. **访问GitHub Secrets**
   ```
   https://github.com/HMC1234/-yqf-aibtrip-demo/settings/secrets/actions
   ```

2. **添加或更新Secrets**
   
   **如果存储桶名称不是 `yqf-aibtrip-demo`**：
   - 点击"New repository secret"（如果不存在）或编辑现有
   - Name: `TENCENT_BUCKET`
   - Value: 您的实际存储桶名称
   - 点击"Add secret"

   **如果地域不是 `ap-guangzhou`**：
   - 点击"New repository secret"（如果不存在）或编辑现有
   - Name: `TENCENT_REGION`
   - Value: 您的实际地域代码（例如：`ap-beijing`）
   - 点击"Add secret"

3. **再次运行工作流**
   - 访问：https://github.com/HMC1234/-yqf-aibtrip-demo/actions
   - 点击"Deploy to Tencent Cloud COS"
   - 点击"Run workflow"

---

### 方法2：更新工作流文件中的默认值

**如果您的存储桶名称和地域是固定的，可以更新工作流文件**：

1. **访问工作流文件**
   ```
   https://github.com/HMC1234/-yqf-aibtrip-demo/blob/main/.github/workflows/deploy-tencent.yml
   ```

2. **点击编辑**
   - 点击右上角的"Edit"（铅笔图标）

3. **修改默认值**
   
   找到这两行：
   ```yaml
   env:
     REGION: ap-guangzhou
     BUCKET: yqf-aibtrip-demo
   ```
   
   修改为您的实际值：
   ```yaml
   env:
     REGION: <您的地域代码>
     BUCKET: <您的存储桶名称>
   ```
   
   例如：
   ```yaml
   env:
     REGION: ap-beijing
     BUCKET: my-bucket-name
   ```

4. **提交更改**
   - 填写提交信息：`fix: 更新存储桶名称和地域配置`
   - 点击"Commit changes"

---

## 📋 检查清单

在修复之前，请确认：

- [ ] 存储桶确实存在（在COS控制台可以看见）
- [ ] 存储桶名称正确（没有拼写错误）
- [ ] 地域代码正确（使用正确的地域代码）
- [ ] GitHub Secrets已配置正确（如果使用Secrets）

---

## 🔧 常见问题

### Q1：如何查看存储桶名称？

**A**：
1. 访问：https://console.cloud.tencent.com/cos
2. 在存储桶列表中查看存储桶名称
3. 或点击存储桶，在详情页查看

---

### Q2：如何查看存储桶地域？

**A**：
1. 访问：https://console.cloud.tencent.com/cos
2. 点击您的存储桶
3. 在"基础配置"或详情页查看地域信息

---

### Q3：地域代码在哪里找？

**A**：在存储桶详情页或创建存储桶时，地域选择会显示代码，例如：
- 广州（`ap-guangzhou`）
- 北京（`ap-beijing`）
- 上海（`ap-shanghai`）

---

## ✅ 修复后

修复后，请：

1. **再次运行工作流**
   - 访问：https://github.com/HMC1234/-yqf-aibtrip-demo/actions
   - 点击"Deploy to Tencent Cloud COS"
   - 点击"Run workflow"

2. **查看日志**
   - 确认配置信息正确
   - 确认部署成功

3. **访问网站**
   - 访问COS提供的URL
   - 确认网站可以正常访问

---

**请告诉我您的实际存储桶名称和地域，我可以帮您更新配置！** 🔧


