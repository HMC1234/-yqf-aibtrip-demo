# 404错误解决方案

## 问题

遇到 `HTTP错误: 404 Not Found`，这通常意味着请求到达了服务器，但路径不正确。

## 可能的原因

### 1. 使用代理但代理未工作

如果配置的 `API Base URL` 是 `/api/yqf`，但返回404，说明：
- 代理服务器可能没有正确启动
- 或者代理配置有问题

### 2. 直接调用但路径不正确

如果配置的 `API Base URL` 是 `https://bizapi.yiqifei.cn/servings`，但返回404，说明：
- 请求URL构建可能有问题
- 或者API服务器确实返回了404

## 解决方案

### 方案1：使用代理（推荐）

**步骤**：

1. **在测试页面的"配置"标签页**：
   - 将 `API Base URL` 改为：`/api/yqf`
   - 保存配置

2. **确认代理已加载**：
   - 查看运行 `npm start` 的终端
   - 应该看到：`✅ setupProxy.js 已加载`
   - 如果没有，需要重启开发服务器

3. **测试**：
   - 切换到"航班查询"标签页
   - 点击"查询航班"
   - 查看终端日志，应该看到代理请求日志

### 方案2：检查直接调用的URL

如果使用直接调用：

1. **查看浏览器控制台**：
   - 找到 `🔍 [API调用] 完整请求URL` 的日志
   - 确认URL格式是否正确

2. **正确的URL格式应该是**：
   ```
   https://bizapi.yiqifei.cn/servings?version=2.0&app_key=xxx&method=ShoppingServer.EasyShopping_V2
   ```

3. **如果URL不正确**：
   - 检查配置的 `baseUrl` 是否正确
   - 检查系统级参数是否正确

## 快速诊断

### 检查1：查看浏览器控制台

打开浏览器开发者工具（F12），查看：

```
🔍 [API调用] 配置信息: {
  基础地址: "..."  // 这里是什么？
  ...
}
🔍 [API调用] 完整请求URL: "..."  // 这里是什么？
```

**请告诉我这两个值是什么？**

### 检查2：查看Network标签

1. 打开Network标签
2. 测试API调用
3. 查找失败的请求
4. 查看：
   - **Name**：请求名称
   - **Status**：404
   - **Type**：应该是 `fetch` 或 `xhr`
   - **Request URL**：完整的请求URL

**请告诉我Request URL是什么？**

### 检查3：查看终端日志

如果使用代理（`/api/yqf`），在终端中应该看到：

```
🔵 [代理] 请求: POST /api/yqf?...
```

**如果没有看到这些日志**，说明代理没有工作。

## 推荐操作

**立即尝试**：

1. 在测试页面的"配置"标签页
2. 将 `API Base URL` 改为：`/api/yqf`
3. 保存配置
4. 重新测试

如果仍然404，请提供：
- 浏览器控制台的完整日志
- Network标签中的请求详情
- 终端中的日志（如果有）


