# 接口名称修复说明

## 问题发现

根据文档重新检查，发现文档中存在两个不同的接口名称：

1. **接口列表部分**（第10节）：
   - `ShoppingServer.EasyShopping_V2` - 机票查询接口
   - `ShoppingServer.VerifyPriceServing` - 机票验价接口
   - `ShoppingServer.PNRCancelByPSONr` - 取消PNR接口
   - `ShoppingServer.AirReshopServing` - 改期航班查询
   - `ShoppingServer.AirRefundPriceServing` - 查询退票费
   - `FareRuleServer.GetFareRule` - 获取退改条款

2. **详细说明部分**（第12节）：
   - `BizApi.OpenAPI.Shopping.EasyShopping_V2` - 机票查询接口

## 修复决定

根据文档的**接口列表**部分（这是接口的正式列表），使用以下接口名称：

- `ShoppingServer.EasyShopping_V2` ✅
- `ShoppingServer.VerifyPriceServing` ✅
- `ShoppingServer.PNRCancelByPSONr` ✅
- `ShoppingServer.AirReshopServing` ✅
- `ShoppingServer.AirRefundPriceServing` ✅
- `FareRuleServer.GetFareRule` ✅

## 修复的文件

1. **src/lib/yqf-air/flight-api.ts**
   - `searchFlights`: `BizApi.OpenAPI.Shopping.EasyShopping_V2` → `ShoppingServer.EasyShopping_V2`
   - `verifyPrice`: `BizApi.AirTickets.Shopping.VerifyPriceServing` → `ShoppingServer.VerifyPriceServing`
   - `cancelPNR`: `BizApi.AirTickets.Shopping.PNRCancelByPSONr` → `ShoppingServer.PNRCancelByPSONr`
   - `reshopFlights`: `BizApi.OpenAPI.Shopping.AirReshopServing` → `ShoppingServer.AirReshopServing`
   - `getRefundPrice`: `BizApi.AirTickets.Shopping.AirRefundPriceServing` → `ShoppingServer.AirRefundPriceServing`
   - `getFareRuleDetail`: `BizApi.AirTickets.Shopping.GetFareRuleDetailServing` → `FareRuleServer.GetFareRule`

2. **src/pages/Test/YQFAPITest.tsx**
   - 更新日志中的接口方法名称
   - 更新完整URL示例（包含version参数）

3. **src/lib/yqf-air/client.ts**
   - 更新注释中的接口方法示例

## 保持不变的接口

以下接口名称在文档中保持一致，无需修改：
- `OpenAPI.CreateOrder` - 下单接口
- `OpenAPI.SubmitOrder` - 确认提交订单
- `OpenAPI.VerifyCabin` - 验舱并补位接口
- `OpenAPI.GetOrderList` - 获取订单详情接口
- `OpenAPI.Dest.GetAirportList` - 目的地列表

## 注意事项

1. 接口列表是文档的正式接口名称列表，应该以此为准
2. 详细说明部分可能使用了不同的命名方式，但应以接口列表为准
3. 所有接口调用都会在URL中包含 `version=2.0` 参数（必填）

## 测试建议

修复后，请测试以下接口：
1. 机票查询接口（`ShoppingServer.EasyShopping_V2`）
2. 验价接口（`ShoppingServer.VerifyPriceServing`）
3. 其他相关接口

如果接口调用失败，可能需要检查：
- 接口名称是否正确
- version参数是否为2.0
- 其他系统级参数是否正确

